<div *ngIf="user && myUser" style="position: relative;">
    <table width="100%" border="0">
        <tr>
            <td width="50%" style="padding: 0;" valign="top">
                <img (mousedown)="toggleImage()" [src]="user.mainImageSrc" [ngClass]="ngClassImage()">
            </td>
            <td width="50%" *ngIf="!largeImageFlg" valign="top"
                style="text-align: center; min-width: 180px; max-width: 200px; padding-top: 7px;">
                <div
                    style="display: inline-block; width: 100%; min-width: 180px; max-width: 200px; text-align: left; position: relative; padding: 5px;">

                    <span *ngIf="myUser.user_id != user.user_id" (mousedown)="showOptionsFlg=!showOptionsFlg"
                        class="three-dots" title="Menu Options"><i class="fa fa-ellipsis-v"></i></span>
                    <span *ngIf="showOptionsFlg && user.matchObj" class="three-dots-menu">
                        <div *ngIf="user.matchObj.match_interested == 'Y' && user.matchObj.you_interested == 'Y'"
                            (mousedown)="sendClickEventUp('remove')" class="three-dots-menu-option">Remove from
                            Dating Pool</div>
                        <div *ngIf="user.matchObj.match_interested == 'Y' && user.matchObj.you_interested != 'Y'"
                            (mousedown)="sendClickEventUp('yesToMatch')" class="three-dots-menu-option">
                            Add to Dating Pool</div>
                        <div *ngIf="user.matchObj.you_interested != 'X'" (mousedown)="sendClickEventUp('ban')"
                            class="three-dots-menu-option">
                            Block</div>
                        <div *ngIf="user.matchObj.you_interested == 'X'" (mousedown)="sendClickEventUp('yesToMatch')"
                            class="three-dots-menu-option">
                            Un-Block</div>
                        <div (mousedown)="showOptionsFlg=false" class="three-dots-menu-option">Cancel</div>
                    </span>
                    <i *ngIf="myUser.user_id == user.user_id" [routerLink]="['/profile']" title="Edit Profile"
                        style="float: right; cursor: pointer; margin: 3px; font-size: 18px;" class="fa fa-edit"></i>

                    <div title="id: {{user.user_id}}" style="font-size: 16px; font-weight: 800;">
                        <span class="name-bar"><img src="assets/images/rose5.png" height="20"
                                *ngIf="user.user_id == myUser.heartId" alt="Rose" title="Rose">
                            <span><i class="fa fa-star-o" *ngIf="user.memberFlg" title="Gold Member"></i></span>
                            {{user.firstName}},
                            {{user.age}}&nbsp;
                        </span>

                    </div>
                    <span style="font-size: 7px; float: right;"><i class="fa fa-clock-o main-color"
                            [title]="user.lastLoginText" style="font-size: 12px;"></i>
                        {{user.lastLoginText}}</span>
                    <div>{{user.location}}</div>
                    <div style="font-size: 8px; color: gray;">
                        <span>{{distance}}</span>
                    </div>
                    <div class="small-box">
                        <div class="small-title main-color">Relationship</div>

                        <div [title]="lookingForTitle">
                            <span class="profile-icon">
                                <i [class]="user.genderIcon"></i>
                            </span>
                            <span class="profile-text">
                                {{user.maritalStatus}} &nbsp; <i class="fa fa-arrow-right"></i> &nbsp;
                                <i *ngIf="user.matchPreference != 'F'" class="fa fa-male"></i> <i
                                    *ngIf="user.matchPreference != 'M'" class="fa fa-female"></i>
                            </span>
                        </div>

                        <app-green-check [label]="'Interested in'" [text1]="user.desiredRelationship"
                            [showCheckFlg]="user.desiredRelationship == myUser.matchRelationship && myUser.user_id != user.user_id"
                            [img]="'assets/images/lookingFor.png'"></app-green-check>
                        <app-green-check [label]="'View of Marriage'" [text1]="user.marriageView"
                            [showCheckFlg]="myUser.marriageView == user.marriageView && myUser.user_id != user.user_id"
                            [img]="'assets/images/marriage.png'"></app-green-check>
                        <app-green-check [label]="'Longest Relationship'" [text1]="user.longestRelationshipText"
                            [icon]="'fa fa-exchange'">
                        </app-green-check>

                        <div>
                            <span class="profile-icon" title="Has kids">
                                <img [src]="'assets/images/kids.png'" height="15">
                            </span>
                            <span title="Has kids" class="profile-text">
                                <sup *ngIf="0 && myUser.kidsNum==user.numKids" class="hide-xs"><i
                                        class="fa fa-check main-color"></i></sup>
                                {{user.numKids}}
                            </span>&nbsp;
                            <img [src]="'assets/images/kids2.png'" title="Wants kids" height="15"
                                style="margin-right: 4px;">
                            <span title="Wants kids">
                                <span *ngIf="user.wantsKids != 'Does Not Matter'"
                                    style="font-size: 10px;">{{user.wantsKids}}</span>
                                <span *ngIf="user.wantsKids == 'Does Not Matter'"><i class="fa fa-question"></i></span>
                                <sup *ngIf="myUser.wantsKids==user.wantsKids && myUser.user_id != user.user_id"
                                    class="hide-xs"><i class="fa fa-check main-color"></i></sup>
                            </span>

                            <span class="menu-circle" *ngIf="user.potIcon">
                                <img [src]="user.potIcon" class="dabauchery-icon">
                                <span class="icon-label main-color-bg">{{user.potTitle}}</span>
                            </span>
                            <span class="menu-circle" *ngIf="user.smokesIcon">
                                <img [src]="user.smokesIcon" style="float: right;" height="20" class="dabauchery-icon">
                                <span class="icon-label main-color-bg">{{user.smokesTitle}}</span>
                            </span>
                            <span class="menu-circle" *ngIf="user.drinksIcon">
                                <img [src]="user.drinksIcon" style="float: right;" height="20" class="dabauchery-icon">
                                <span class="icon-label main-color-bg">{{user.drinksTitle}}</span>
                            </span>
                        </div>

                    </div>
                    <div class="small-box">
                        <div class="small-title main-color">Background</div>
                        <app-green-check [label]="'Education'" [text1]="user.educationLevel"
                            [showCheckFlg]="myUser.matchEducation == user.educationLevel && myUser.user_id != user.user_id"
                            [icon]="'fa fa-graduation-cap'"></app-green-check>
                        <app-green-check [label]="'Income'" [text1]="user.income"
                            [showCheckFlg]="user.income == myUser.matchIncome && myUser.user_id != user.user_id"
                            [icon]="'fa fa-money'">
                        </app-green-check>
                        <app-green-check [label]="'Religion'" [text1]="user.religion"
                            [showCheckFlg]="user.religion == myUser.matchReligion && myUser.user_id != user.user_id"
                            [icon]="''" [img]="'assets/images/religion.png'">
                        </app-green-check>
                    </div>

                    <div>
                        <i (mousedown)="showAdminButtonsFlg=!showAdminButtonsFlg" class="fa fa-lock"
                            *ngIf="myUser.user_id==1" style="cursor: pointer; float: left;"></i>
                        <div style="padding-right: 10px; float: right; font-size: 32px;">
                            <i (mousedown)="showMoreClicked()" [ngClass]="'fa fa-arrow-circle-down clickable'"
                                [title]="(expandBottomFlg)?'Collapse Profile':'Expand Profile'"></i>
                        </div>
                    </div>
                    <div *ngIf="showAdminButtonsFlg" class="border-box" style="text-align: center;">
                        <div><i class="fa fa-lock"></i> admin tools</div>
                        <hr>
                        <div *ngIf="user.picFlagged>0" style="text-align: center; display: inline-block;">
                            <button (mousedown)="sendClickEventUp('picIsGood')" class="btn btn-primary">Pic is
                                OK</button>
                            <div style="font-size: 8px;">Flagged picture is fine.</div>
                        </div>
                        <div *ngIf="!user.picFlagged" style="text-align: center; display: inline-block;">
                            <button (mousedown)="sendClickEventUp('picIsBad')" class="btn btn-primary">
                                Pic is Bad</button>
                            <div style="font-size: 8px;">Flag as no face.</div>
                        </div>
                        <div *ngIf="user.picFlagged>0" style="text-align: center; display: inline-block;">
                            <button (mousedown)="sendClickEventUp('clearPic')" class="btn btn-primary">Clear
                                Pic</button>
                            <div style="font-size: 8px;">Reset main image.</div>
                        </div>
                        <div style="text-align: center; display: inline-block;">
                            <button (mousedown)="sendClickEventUp('refreshDatePools')" class="btn btn-primary">Refresh
                                DP</button>
                            <div style="font-size: 8px;">Reset DP & matches DP.</div>
                        </div>
                    </div>
                </div>


            </td>
        </tr>
    </table>
    <div *ngIf="user.numPics>0" style="text-align: left; font-size: 12px;">

        <div *ngIf="user.numPics>0"
            style="position: absolute; opacity: 0.5; bottom: 0; background-color: black; color: white;">
            &nbsp;<i class="fa fa-picture-o"></i>
            {{user.numPics+1}} pics total&nbsp;</div>
    </div>

    <div *ngIf="user.matchObj && user.matchObj.showButtonsFlg" style="position: absolute; top: 330px; left: 100px;">
        <i (mousedown)="likeButtonClicked(false)" class="fa fa-thumbs-o-down circle-button no-button"></i>&nbsp;
        <i (mousedown)="likeButtonClicked(true)" class="fa fa-thumbs-o-up circle-button yes-button glow-button"></i>
    </div>

    <div *ngIf="user.matchObj && user.matchObj.matchMadeFlg" [routerLink]="['/matches']" class="main-color-bg"
        style="cursor: pointer;">
        <div style="font-size: 40px;"><i class="fa fa-heart"></i>&nbsp;<b>Match Made!</b></div>
    </div>

</div>
<div *ngIf="showSmallerPicsFlg && expandBottomFlg">
    <img *ngIf="user.pic1" (mousedown)="viewImageThumbnail(0)" [src]="user.imgSrc" class="tiny-pic">
    <img *ngIf="user.pic1" (mousedown)="viewImageThumbnail(1)" [src]="user.pic1"
        [ngClass]="unblurPicsFlg?'tiny-pic':'tiny-pic-blur'">
    <img *ngIf="user.pic2" (mousedown)="viewImageThumbnail(2)" [src]="user.pic2"
        [ngClass]="unblurPicsFlg?'tiny-pic':'tiny-pic-blur'">
    <img *ngIf="user.pic3" (mousedown)="viewImageThumbnail(3)" [src]="user.pic3"
        [ngClass]="unblurPicsFlg?'tiny-pic':'tiny-pic-blur'">
    <img *ngIf="user.pic4" (mousedown)="viewImageThumbnail(4)" [src]="user.pic4"
        [ngClass]="unblurPicsFlg?'tiny-pic':'tiny-pic-blur'">
    <a *ngIf="user.user_id == myUser.user_id" [routerLink]="['/edit-pics']" class="text-link">edit pics</a>
    <div *ngIf="0 && !showSmallerPicsFlg"><button [routerLink]="'/upgrade-member'"
        class="btn btn-warning">Upgrade to see pics</button></div>
</div>