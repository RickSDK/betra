<app-page-shell (messageEvent)="loginClicked ($event)" [userId]="userId" [imgSrcFile]="imgSrcFile"
    [pageTitle]="'Settings'" [headerObj]="headerObj" [userStatus]="userStatus" [stickyBottomFlg]="true">

    <div class="matches-card" *ngIf="user">
        <div style="text-align: center;">
            <button style="float: left;" [routerLink]="['']" class="btn btn-main-color btn-small">Home</button>&nbsp;
            <span class="main-title">Settings</span>
            <img src="assets/images/betraLogo.png" height="25" style="float: right;">
        </div>
        <hr>
        <button (mousedown)="logout()" class="btn btn-main-color spacer btn-settings"><i class="fa fa-sign-out"></i>
            Logout</button>
        <button (mousedown)="changeMenuNum(1)" class="btn btn-main-color spacer btn-settings"><i
                class="fa fa-trash"></i>
            Delete Account</button>
        <button [routerLink]="['/location']" class="btn btn-main-color spacer btn-settings"><i class="fa fa-globe"></i>
            location</button>
        <button (mousedown)="changeMenuNum(4)" class="btn btn-main-color spacer btn-settings"><i
                class="fa fa-refresh"></i>
            Redo Matches</button>
        <button (mousedown)="changeBuddy()" class="btn btn-main-color spacer btn-settings"><i
                class="fa fa-envelope-o"></i>
            Buddy Notification</button>
        <button (mousedown)="changeMenuNum(6)" class="btn btn-main-color spacer btn-settings"><i class="fa fa-star"></i>
            Change Password</button>

        <button [routerLink]="'/upgrade-member'" class="btn btn-main-color spacer btn-settings"><i
                class="fa fa-arrow-up"></i>
            Upgrade</button>
        <button [routerLink]="'/referrals'" class="btn btn-main-color spacer btn-settings"><i class="fa fa-users"></i>
            Referrals</button>

        <div *ngIf="announcement" class="light-box">
            <div>{{announcement}}</div>
            <hr>
            <div><button [routerLink]="['/user-detail']" class="btn btn-main-color">Browse</button></div>
        </div>
        <div *ngIf="menuNum == 1" class="tan-box">
            <div style="color: green; text-align: left; font-size: 12px;">
                <p>Sorry to hear you want to delete your account. Keep in mind this is a brand new start-up that we are
                    trying to get off the ground. We are actively working to improve the site and bring in new
                    customers.</p>
                <p>
                    Instead of quiting, we would love to have your help growing the site. More info can be found <span
                        [routerLink]="['/join-team']" class="text-link">here</span>.
                </p>
            </div>

            <div>Delete Account?</div>
            <div class="gray-text">Are you sure you want to delete your account? This action is permanent and cannot be
                un-done. Alternatively you can place the account on hold and then re-activiate it whenever you like.
            </div>
            <div>
                <div>Select Reason</div>
                <select name="deleteReason" id="deleteReason">
                    <option disabled selected>select</option>
                    <option>Trouble getting started</option>
                    <option>Privacy Concerns</option>
                    <option>Too busy</option>
                    <option>Found someone!</option>
                    <option>Can't find anyone</option>
                    <option>Didn't like the app</option>
                    <option>Other</option>
                </select>
                <div>Comments</div>
                <input type="text" name="deleteComment" id="deleteComment" maxlength="150" placeholder="Comments">
            </div>
            <div>
                <button (mousedown)="changeMenuNum(0)" class="btn btn-success spacer">Cancel</button>
                <button (mousedown)="deleteAccount('holdAccount')" class="btn btn-warning spacer">Place on Hold</button>
                <button (mousedown)="deleteAccount('deleteAccount')" class="btn btn-danger spacer">Yes, Delete</button>
            </div>

        </div>
        <div *ngIf="menuNum == 5" class="tan-box">
            <div>Buddy Notification</div>
            <div class="red-text">Betra is the safest dating app you will ever use.</div>
            <div class="gray-text" style="text-align: left;">
                <p>For safety and security we reccomend everyone use the in-app dating scheduler to
                    arrange your first date.
                    This will guarantee an electronic record of your meeting time and place to dissuade would be trouble
                    makers.
                </p>
                <p>
                    In addition to this, we encourage everyone to set up a Buddy Contact. This person will be
                    notified of your meeting time and place so they can check on you to make sure everything went well.
                </p>
                <table width="100%" *ngIf="!loadingFlg">
                    <tr>
                        <td>
                            <app-text-input [placeHolder]="'Email Address'" [id]="'buddyEmail'" [maxLength]="80"
                                [value]="buddyEmail"></app-text-input>
                        </td>
                        <td width="70" align="center" valign="middle">
                            <button (mousedown)="updateBuddyEmail()" class="btn btn-primary"><i
                                    class="fa fa-arrow-circle-right" style="font-size: 30px;"></i></button>
                        </td>
                    </tr>
                </table>
                <hr>
                <img src="assets/images/brittany1.jpg" height="200" align="left" style="padding: 3px;">
                <p><b>History: </b>
                    In 2023 the online dating world is literally at your finger tips. You could make a connection with
                    someone, scope their social media, and meet that person all in one night! It’s an exciting time for
                    dating, but let’s be honest as a single woman it’s also terrifying. The big dating apps have got the
                    algorithm down, but when it comes to your safety not so much. It’s like once you are on that date,
                    they leave you at the door just like the Uber you took to the restaurant.
                </p>
                <p>
                    So when Brittany LoCurto got involved with Betra she really wanted it to feel like a safe place for
                    women to date. Brittany had not only experienced all the different dating platforms herself, but had
                    witnessed countless dates go wrong while bartending. “No matter what I wanted my female customers to
                    know I was looking out for them if things got sketchy or someone wasn’t who they said they were”. I
                    wish I could say that never happens, but it does all the time”, she said.So when she heard another
                    horror story about a woman being kidnapped by her online date in December, she wanted to think of a
                    way to look out for women like she did at the bar.
                </p>
                <p>This is how the buddy system element in Betra was born. Imagine if a dating app cared for your safety
                    both while using the app and on your date. Where you could feel safe and not have a bombardment of
                    what ifs in your brain. The buddy system will alert a friend or family member of your choice that
                    you are going on a date through Betra. So you could finally focus on connections, and not catfishes.
                </p>
            </div>
        </div>
        <div *ngIf="menuNum == 6" class="tan-box">
            <div *ngIf="user.facebookId">Notice: You are currently logging in using facebook</div>
            <button *ngIf="!loadingFlg" (mousedown)="requestPasswordReset()" class="btn btn-primary">Request Password
                Reset</button>
            <div *ngIf="successFlg" class="important-notice">You have been emailed a link to reset your password. Please
                follow the instructions on that email.</div>
        </div>
        <div *ngIf="!user.lat" class="border-box">
            <p class="red-text">Note: Something is not set up properly with your location</p>
            <p>Click the "Location" button, then "Find Location" and then press "Update" to fix.</p>
            <p class="gray-text">If this doesn't fix your issue, you will need to log in with a different device or
                change your browser settings to allow location info.</p>
        </div>
        <div *ngIf="menuNum == 4" class="tan-box">
            <div class="gray-text">Would you like to reset all the people who you said 'No' to so you can browse through
                them again?</div>
            <button (mousedown)="menuNum=0" class="btn btn-warning">Cancel</button>&nbsp;
            <select name="resetRange" id="resetRange">
                <option>All Profiles</option>
                <option>Past Week</option>
                <option>Past Month</option>
            </select>&nbsp;
            <button (mousedown)="resetMatchesPressed()" class="btn btn-main-color">Reset Matches</button>
        </div>
        <div *ngIf="menuNum==2" class="border-box">
            <div>Location</div>
 

        </div>

        <app-spinner [loadingFlg]="loadingFlg" [errorMessage]="errorMessage"></app-spinner>
        <div style="font-size: 12px;">
            <div>Version: <span class="text-highlight">{{version}}</span></div>
            <div>Browser: <span class="text-highlight">{{browser}}</span></div>
            <div>OS: <span class="text-highlight">{{os}}</span></div>
            <div>Platform: <span class="text-highlight">{{platform}}</span></div>
        </div>

        <div *ngIf="userId==1">
            <p>&nbsp;</p>
            <button [routerLink]="['/users']" class="btn btn-primary spacer"><i class="fa fa-users"></i>
                Users</button>
            <button [routerLink]="['/documentation']" class="btn btn-primary spacer"><i class="fa fa-file-text"></i>
                Documentation</button>
            <button [routerLink]="['/build-app']" class="btn btn-primary spacer"><i class="fa fa-mobile"></i>
                App Setup</button>
            <button (mousedown)="testFunction()" class="btn btn-primary spacer"><i class="fa fa-asterisk"></i>
                Test Function</button>
        </div>




    </div>

</app-page-shell>