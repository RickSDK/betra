<app-page-shell (messageEvent)="loginClicked ($event)" [userId]="userId" [imgSrcFile]="imgSrcFile"
    [pageTitle]="'Messages'" [headerObj]="headerObj" [userStatus]="userStatus" [stickyBottomFlg]="true">

    <app-spinner [loadingFlg]="loadingFlg" [errorMessage]="errorMessage"></app-spinner>
    <div class="matches-card" *ngIf="user" style="padding: 0;">
        <div class="gray-text">Most recent message from each person</div>
        <table>
            <tr *ngFor="let player of playerList" class="message-cell" [routerLink]="['/user-detail']" [queryParams]="{uid: player.user_id}" >
                <td>
                    <app-profile-pic [user_id]="player.user_id" [profilePic]="player.profilePic" [size]="40">
                    </app-profile-pic>
                </td>
                <td style="font-size: 12px; color: gray; position: relative;">
                    <span *ngIf="player.message && !player.readDt && player.sender == user.user_id" class="not-read">Not Read</span>
                    <span *ngIf="player.message && !player.readDt && player.sender != user.user_id" class="new-text">New!</span>
                    <div *ngIf="player.message" [ngClass]="player.sender == user.user_id?'blue-blob':'gray-blob'">{{player.message}}</div>
                </td>
            </tr>
        </table>
    </div>

</app-page-shell>