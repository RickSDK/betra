<app-page-shell (messageEvent)="loginClicked ($event)" [pageTitle]="'Journal'" [userId]="userId"
    [imgSrcFile]="imgSrcFile" [headerObj]="headerObj" [userStatus]="userStatus" [stickyBottomFlg]="true">

    <div class="matches-card" style="text-align: left; font-size: 12px; padding: 0;">

        <app-top-header2 [topTitle]="'Journal'"></app-top-header2>


        <div class="tan-box" style="font-size: 12px;">
            Part of the vision of <span class="red-text">Betra</span> is about people helping people. Feel free to
            journal here about your dating experiences, hopes or expectations.
            Others can comment or give advice. It's fun and it's helpful because we are all in this together.
        </div>
        <div *ngIf="page" style="padding: 20px; text-align: center;">
            <button *ngIf="!showFormFlg" (mousedown)="createNewEntry()" class="btn btn-main-color"><i
                    class="fa fa-pencil"></i> <span *ngIf="page.myEntryCount>0">Add an update!</span>
                    <span *ngIf="page.myEntryCount==0">Create journal entry</span>
                </button>
        </div>

        <div *ngIf="showFormFlg" style="padding: 20px; text-align: center;">
            <div *ngIf="postId>0" class="gray-text">Reply with your best encouragement, advice, suggestions or
                encouragement. Please nothing disrespectful.</div>
            <div *ngIf="postId==0">Give us an update on your current dating life and tell us about your most recent
                dating experience.</div>
            <app-text-area-input [id]="'message'" [maxLength]="2000"></app-text-area-input>

            <div>
                <button (mousedown)="loadAllJournals()" class="btn btn-warning">Cancel</button>&nbsp;
                <button *ngIf="postId==0" (mousedown)="submitButtonPressed()" class="btn btn-main-color"
                    [disabled]="loadingFlg">Submit</button>
                <button *ngIf="postId>0" (mousedown)="replyButtonPressed()" class="btn btn-main-color">Reply</button>
            </div>
        </div>
    </div>

    <app-spinner [loadingFlg]="loadingFlg" [errorMessage]="errorMessage"></app-spinner>

    <app-journal-cell2 *ngFor="let journal of journalList" [profilePic]="user.profilePic" [journal]="journal" [userId]="userId"></app-journal-cell2>

</app-page-shell>
