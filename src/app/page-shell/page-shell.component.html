<app-top-bar [headerObj]="headerObj" [userId]="userId"></app-top-bar>
<i *ngIf="platform!='Android'" (mousedown)="goBack()" class="fa fa-arrow-left back-button hide-sm"></i>
<i *ngIf="platform=='Android'" (mousedown)="goBackAndroid()"
                    class="fa fa-arrow-left back-button hide-sm"></i>

<i (mousedown)="showMainMenuFlg = !showMainMenuFlg" class="fa fa-ellipsis-v main-menu-dots"></i>
<img *ngIf="userId>0" [src]="imgSrcFile" class="profile-pic" alt="Profile Picture"
    (mousedown)="showUserMenuFlg = !showUserMenuFlg">
<img [routerLink]="['']" *ngIf="!userId" [src]="imgSrcFile" class="profile-pic" alt="Profile Picture">
<i [routerLink]="['/user-detail']" [queryParams]="{uid: userId}" *ngIf="headerObj && headerObj.newGifts>0" class="fa fa-gift profile-icon main-color"></i>

<div class="top-bar" *ngIf="userId==0" style="text-align: center; padding-top: 10px;">
    <span class="menu-circle" [routerLink]="['/blogs']">
        <i class="fa fa-book icon-button main-color"></i>
        <span class="top-icon-label">Blogs</span>
        <span class="icon-label main-color-bg">Blogs</span>
    </span>
    <span class="menu-circle" [routerLink]="['/about']">
        <i class="fa fa-info-circle icon-button main-color"></i>
        <span class="top-icon-label">About</span>
        <span class="icon-label main-color-bg">About</span>
    </span>
    <span class="menu-circle" [routerLink]="['/safety-features']">
        <i class="fa fa-exclamation-circle icon-button main-color"></i>
        <span class="top-icon-label">Safety</span>
        <span class="icon-label main-color-bg">Safety Features</span>
    </span>
    <span class="menu-circle" [routerLink]="['/photography']">
        <i class="fa fa-picture-o icon-button main-color"></i>
        <span class="top-icon-label">Photo Club</span>
        <span class="icon-label main-color-bg">Photo Club</span>
    </span>
    <span style="width: 40px; display: inline-block;">&nbsp;</span>
</div>
<div class="top-bar" *ngIf="userId>0 && headerObj && !headerObj.liteModeFlg && userStatus == 'Active'">
    <table width="100%" border="0" style="margin-top: 1px; color: white;" valign="middle">
        <tr>
            <td class="left-segment">&nbsp;</td>
            <td align="center" style="padding-top: 8px;">
                <span class="menu-circle hide-xs" [routerLink]="['/blogs']">
                    <i class="fa fa-book icon-button main-color"></i>
                    <span class="top-icon-label">Blogs</span>
                    <span class="icon-label main-color-bg">Blogs</span>
                </span>
                <span class="menu-circle" [routerLink]="['/chat-room']">
                    <i class="fa fa-comment icon-button"></i>
                    <span class="top-icon-label">Chat</span>
                    <span *ngIf="headerObj && headerObj.chatPeople>0" class="red-circle"
                        style="background-color: green;">{{headerObj.chatPeople}}</span>
                    <span class="icon-label main-color-bg">Chat Room</span>
                </span>
                <span class="menu-circle hide-xxs" [routerLink]="['/photography']">
                    <i class="fa fa-picture-o icon-button main-color"></i>
                    <span class="top-icon-label">Club</span>
                    <span class="icon-label main-color-bg">Photo Club</span>
                </span>&nbsp;
            </td>
            <td align="center">
                <div [routerLink]="['/intro']" class="ceremony-countdown">
                    <div class="red-text" style="font-size: 8px; margin-top: 2px;">ðŸŒ¹</div>
                    <div class="menu-circle">
                        <div class="red-text" style="line-height: 14px;">{{headerObj.daysTillRoseCeremony}}</div>
                        <span class="icon-label main-color-bg">Rose Ceremony</span>
                    </div>
                    <div class="red-text" style="font-size: 8px;">Days</div>
                </div>
            </td>
            <td style="padding-top: 8px;" align="center">
                <span class="menu-circle hide-xxs" [routerLink]="['/messages']">
                    <i class="fa fa-comments icon-button main-color"></i>
                    <span class="top-icon-label">Messages</span>
                    <span *ngIf="headerObj.messageCount>0" class="red-circle">{{headerObj.messageCount}}</span>
                    <span class="icon-label main-color-bg">Messages</span>
                </span>
                <span class="menu-circle hide-xs" [routerLink]="['/matches']">
                    <i class="fa fa-users icon-button main-color"></i>
                    <span class="top-icon-label">Pool</span>
                    <span class="icon-label main-color-bg">My Dating Pool</span>
                </span>
                <span class="menu-circle" [routerLink]="['/notifications']">
                    <i class="fa fa-bell icon-button main-color"></i>
                    <span class="top-icon-label">Alerts</span>
                    <span *ngIf="headerObj.notifications>0" class="red-circle">{{headerObj.notifications}}</span>
                    <span class="icon-label main-color-bg">Notifications</span>
                </span>
            </td>
            <td class="right-segment">&nbsp;</td>
        </tr>
    </table>
</div>

<div class="top-bar" *ngIf="userId>0 && headerObj && headerObj.liteModeFlg && userStatus == 'Active'">
    <table width="100%" border="0" style="margin-top: 1px; color: white;" valign="middle">
        <tr>
            <td class="left-segment">&nbsp;</td>
            <td align="center" style="padding-top: 8px;">
                <span class="menu-circle hide-xs" [routerLink]="['/blogs']">
                    <i class="fa fa-book icon-button main-color"></i>
                    <span class="top-icon-label">Blogs</span>
                    <span class="icon-label main-color-bg">Blogs</span>
                </span>
                <span class="menu-circle hide-xxs" [routerLink]="['/chat-room']">
                    <i class="fa fa-comment icon-button main-color"></i>
                    <span class="top-icon-label">Chat</span>
                    <span *ngIf="headerObj && headerObj.chatPeople>0" class="red-circle"
                        style="background-color: green;">{{headerObj.chatPeople}}</span>
                    <span class="icon-label main-color-bg">Chat Room</span>
                </span>
                <span class="menu-circle" [routerLink]="['/photography']">
                    <i class="fa fa-picture-o icon-button main-color"></i>
                    <span class="top-icon-label">Club</span>
                    <span class="icon-label main-color-bg">Photo Club</span>
                </span>
                <span class="menu-circle hide-xxs" [routerLink]="['/messages']">
                    <i class="fa fa-comments icon-button main-color"></i>
                    <span class="top-icon-label">Messages</span>
                    <span *ngIf="headerObj.messageCount>0" class="red-circle">{{headerObj.messageCount}}</span>
                    <span class="icon-label main-color-bg">Messages</span>
                </span>
                <span class="menu-circle" [routerLink]="['/notifications']">
                    <i class="fa fa-bell icon-button main-color"></i>
                    <span class="top-icon-label">Alerts</span>
                    <span *ngIf="headerObj.notifications>0" class="red-circle">{{headerObj.notifications}}</span>
                    <span class="icon-label main-color-bg">Notifications</span>
                </span>
            </td>
            <td class="right-segment">&nbsp;</td>
        </tr>
    </table>
</div>

<!--<div class="top-bar" *ngIf="0">
    <table width="100%" border="0" style="margin-top: 5px;">
        <tr>
            <td *ngIf="userId>0" class="hide-md-up">
                <i (mousedown)="showMainMenuFlg = !showMainMenuFlg" class="fa fa-bars hamburger-menu main-color"></i>
            </td>
            <td *ngIf="pageTitle != 'Home'">
                <i *ngIf="platform=='Web'" (mousedown)="goBack()"
                    class="fa fa-arrow-left back-button main-color"></i>&nbsp;
                <i *ngIf="platform=='Android'" (mousedown)="goBackAndroid()"
                    class="fa fa-arrow-left back-button main-color"></i>&nbsp;
                <img [routerLink]="['']" [src]="'assets/images/betraLogo.png'" class="hide-sm" height="50"
                    style="cursor: pointer;">

            </td>
            <td *ngIf="pageTitle == 'Home'" style="position: relative;">
                <img [routerLink]="['']" [src]="'assets/images/betraLogo.png'" height="50" style="cursor: pointer;">

                <div style="font-size: 9px; position: absolute; left: 20px; top: 40px; color: gray;">
                    v{{appVersion}}
                </div>
            </td>
            <td align="center" width="100%">
                <span *ngIf="pageTitle != 'Home'" [routerLink]="['']" class="top-button"><i class="fa fa-home"></i>
                    <div class="top-button-label">Home</div>
                </span>
                <span *ngIf="!userId" [routerLink]="['/about']" class="top-button hide-xxs"><i
                        class="fa fa-info-circle"></i>
                    <div class="top-button-label">About</div>
                </span>
                <span *ngIf="!userId" [routerLink]="['/safety-features']" class="top-button"><i
                        class="fa fa-exclamation-circle"></i>
                    <div class="top-button-label">Safety Features</div>
                </span>
                <span [routerLink]="['/blogs']" class="top-button hide-xs"><i class="fa fa-book"></i>
                    <div class="top-button-label">Blogs</div>
                </span>
                <span *ngIf="0" [routerLink]="['/photography']" class="top-button hide-xs"><i
                        class="fa fa-picture-o"></i>
                    <div class="top-button-label">Photography</div>
                </span>
                <span *ngIf="userId" [routerLink]="['/chat-room']" class="top-button hide-sm"><img
                        src="assets/images/pics/chat_room.png" height="40">
                    <i *ngIf="0" class="fa fa-comment"></i> <span *ngIf="headerObj && headerObj.chatPeople>0"
                        class="red-circle" style="background-color: green;">{{headerObj.chatPeople}}</span>
                    <div class="top-button-label">Chat Room</div>
                </span>
                <span *ngIf="headerObj && userId" [routerLink]="['/coins']" class="top-button">
                    <img id="coinImg" src="assets/images/pics/coinSmall.png" height="30">
                    <span class="red-circle" *ngIf="headerObj.points>0"
                        style="background-color: green; margin-left: -15px; font-size: 9px;">{{headerObj.points}}</span>
                    <div class="top-button-label">Coins</div>
                </span>
            </td>

            <td align="right" valign="middle" *ngIf="userId==0 || !userId">
                <span *ngIf="!userId" [routerLink]="['']" [queryParams]="{login: 1}" class="top-link">Login</span>
            </td>
            <td *ngIf="(userId==0 || userStatus != 'Active') && pageTitle != 'Home'" width="44">
                <i [routerLink]="['/']" class="fa fa-home icon-button" title="Home"></i>
            </td>
            <td *ngIf="headerObj && userId>0 && userStatus == 'Active'">
                <div [routerLink]="['/intro']" class="ceremony-countdown">
                    <div class="red-text" style="font-size: 8px;">Days</div>
                    <div class="menu-circle">
                        <div class="red-text">{{headerObj.daysTillRoseCeremony}}</div>
                        <span class="icon-label main-color-bg">Rose Ceremony</span>
                    </div>
                </div>
                <span class="menu-circle hide-xs" [routerLink]="['/user-detail']">
                    <i class="fa fa-search icon-button main-color"></i>
                    <span class="icon-label main-color-bg">Browse</span>
                </span>
                <span class="menu-circle" [routerLink]="['/messages']">
                    <i class="fa fa-comments icon-button main-color"></i>
                    <span *ngIf="headerObj.messageCount>0" class="red-circle">{{headerObj.messageCount}}</span>
                    <span class="icon-label main-color-bg">Messages</span>
                </span>
                <span class="menu-circle hide-xxs" [routerLink]="['/matches']">
                    <i class="fa fa-users icon-button main-color"></i>
                    <span class="icon-label main-color-bg">My Dating Pool</span>
                </span>
                <span class="menu-circle" [routerLink]="['/notifications']">
                    <i class="fa fa-bell icon-button main-color"></i><span *ngIf="headerObj.notifications>0"
                        class="red-circle">{{headerObj.notifications}}</span>
                    <span class="icon-label main-color-bg">Notifications</span>
                </span>
            </td>
            <td *ngIf="headerObj && userId>0">
                <span id="myProfile" class="menu-circle" (mousedown)="showUserMenuFlg = !showUserMenuFlg">
                    <i class="fa fa-user icon-button main-color"></i>
                    <span *ngIf="headerObj.newReviewBy>0" class="red-circle"><i class="fa fa-comment"></i></span>
                    <span class="icon-label main-color-bg">My Profile</span>
                </span>

            </td>
        </tr>
    </table>
</div>-->
<div class="game-room" [routerLink]="['/game-room']">
    <i class="fa fa-rocket"></i>
    <span class="red-circle" *ngIf="headerObj.gameRoomCount>0"
        style="bottom: 0; right: 0; left: auto; position: absolute;">{{headerObj.gameRoomCount}}</span>
</div>
<div class="check-list" [routerLink]="['/check-list']">
    <i class="fa fa-check"></i>
</div>

<div class="outer-frame">
    <div class="inner-frame" [style.padding-bottom]="stickyBottomFlg?'40px':'0px'">
        <div *ngIf="userId>0 && userStatus != 'Active' && pageTitle != 'Profile'" class="tan-box">

            <p>Finish Setting up your profile </p>
            <button *ngIf="pageTitle != 'Home'" [routerLink]="['']" class="btn btn-danger">Home</button>
            <button *ngIf="pageTitle == 'Home'" [routerLink]="['/profile']" class="btn btn-danger">Profile</button>
        </div>
        <div *ngIf="showUserMenuFlg" class="gray-screen" (mousedown)="showUserMenuFlg=false"></div>
        <table *ngIf="showPageFlg" width="100%" border="0">
            <tr>
                <td *ngIf="headerObj && userId>0 && userStatus == 'Active'" class="side-menu hide-sm" valign="top">
                    <div style="position: fixed; top: 60px; left: 0; width: 200px;">
                        <app-side-menu *ngIf="headerObj" [pageTitle]="pageTitle" [messageCount]="headerObj.messageCount"
                            [matchCount]="headerObj.matchCount" [headerObj]="headerObj"></app-side-menu>
                    </div>
                </td>
                <td valign="top" align="center" style="position: relative;">
                    <ng-content></ng-content>
                    <div>&nbsp;</div>
                    <div *ngIf="0" style="text-align: center;">
                        <div style="color: gray;">Google Ads</div>
                        <!--<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2626924352662007"
                            data-ad-slot="3410873039" data-ad-format="auto" data-full-width-responsive="true"></ins>-->
                    </div>

                </td>
                <td *ngIf="userId>0 && userStatus == 'Active'" valign="top" align="center" width="200" class="hide-md"
                    style="width: 200px;">
                    <div style="position: fixed; top: 60px; right: 0; width: 200px; padding: 7px;">
                        <div style="color: gray;">Sponsored</div>
                        <a href="https://www.superpowersgame.com"><img src="assets/images/ads/ad.png" width="100%"
                                class="image"></a>
                        <div style="font-size: 12px; font-weight: 700;">War with friends!</div>
                        <!--<app-ad-mob></app-ad-mob>-->
                        <!--<div>Google ads</div>
                        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2626924352662007"
                            data-ad-slot="3410873039" data-ad-format="auto" data-full-width-responsive="true"></ins>-->
                    </div>
                </td>
            </tr>
        </table>
    </div>

</div>
<app-bottom-links [userId]="userId" [liteModeFlg]="headerObj.liteModeFlg"></app-bottom-links>


<div class="menu-darkener" *ngIf="showMainMenuFlg" (mousedown)="showMainMenuFlg=false"></div>
<div [ngClass]="ngClassToggleMenu()" *ngIf="userId>0">
    <div style="padding: 10px;">
        <app-side-menu *ngIf="headerObj" [pageTitle]="pageTitle" [headerObj]="headerObj" [slideOverFlg]="true">
        </app-side-menu>
    </div>
    <div (mousedown)="logout()" class="main-menu-item">Log Out</div>
</div>

<div [ngClass]="ngClassToggleMenu2()" *ngIf="userId>0" (mousedown)="showUserMenuFlg=false">
    <div [routerLink]="['/user-detail']" [queryParams]="{uid: userId}" class="main-menu-item"><i class="fa fa-user"></i>
        View Profile</div>
    <div [routerLink]="['/profile']" class="main-menu-item"><i class="fa fa-pencil"></i> Edit Profile</div>
    <div [routerLink]="['/profile']" [queryParams]="{num: 5}" class="main-menu-item"><i class="fa fa-picture-o"></i>
        Change Picture</div>
    <div *ngIf="!headerObj.liteModeFlg" [routerLink]="['/location']" class="main-menu-item"><i class="fa fa-globe"></i> Change Location</div>
    <div *ngIf="!headerObj.liteModeFlg" [routerLink]="['/reputation']" class="main-menu-item"><i class="fa fa-certificate"></i> Reputation</div>
    <div class="main-menu-item"><i class="fa fa-times"></i> Close Menu</div>
    <div (mousedown)="logout()" class="main-menu-item"><i class="fa fa-sign-out"></i> Log Out</div>
</div>

<!--<div (mousedown)="displayBrowsePopupFlg=false" *ngIf="headerObj && headerObj.browseObj && displayBrowsePopupFlg" class="user-browse-popup">
    <i class="fa fa-times"
        style="font-size: 22px; float: right; margin: 5px;"></i>
    <div class="red-text">Notice!</div>
    <div class="gray-text">Someone is browsing your profile right now!</div>
    <app-profile-pic [user_id]="headerObj.browseObj.user_id" [profilePic]="headerObj.browseObj.profilePic" [size]="200">
    </app-profile-pic>
    <div style="font-size: 22px; font-weight: 700;">{{headerObj.browseObj.firstName}}</div>
    <div *ngIf="displayBasicsFlg && headerObj.browseObj.basicsFlg=='Y'">
        {{headerObj.browseObj.firstName}} clicked on basic profile items
    </div>
    <div *ngIf="displayDetailsFlg && headerObj.browseObj.detailsFlg=='Y'">
        {{headerObj.browseObj.firstName}} clicked on your profile details
    </div>
    <div *ngIf="popupInProgress" style="font-size: 32px;">
        <i class="fa fa-spinner fa-spin"></i>
    </div>
    <div *ngIf="!popupInProgress" style="padding: 20px;">
        <div *ngIf="headerObj.browseObj.thumbsUpFlg == 'Y'">You got a thumbs up!</div>
        <div *ngIf="headerObj.browseObj.thumbsDownFlg == 'Y'">Sorry, it's a thumbs down.</div>
        <div *ngIf="!headerObj.browseObj.thumbsUpFlg && !headerObj.browseObj.thumbsDownFlg">
            {{headerObj.browseObj.firstName}} is no longer viewing your page.</div>
        <button class="btn btn-main-color btn-small" (mousedown)="displayBrowsePopupFlg=false">Close</button>
    </div>
</div>-->
<div *ngIf="headerObj && displayGiftPopupFlg" class="user-browse-popup">
    <div class="red-text">You have received a gift!</div>
    <img src="assets/images/gifts/gift{{headerObj.giftObj.gift_id}}.png" width="150">
    <div style="font-size: 8px;">{{headerObj.giftObj.name}}</div>
    <app-profile-pic [user_id]="headerObj.giftObj.user_id" [profilePic]="headerObj.giftObj.profilePic" [size]="150">
    </app-profile-pic>

    <div style="padding: 20px;">
        <button class="btn btn-warning spacer" (mousedown)="displayGiftPopupFlg=false">Close</button>
        <button [routerLink]="['/user-detail']" [queryParams]="{uid: userId}" class="btn btn-main-color spacer">See my
            Gifts</button>
    </div>
</div>
<app-betra-popup></app-betra-popup>